import{o as n,c as l,a as o,d as Z,u as z,B as J,C as N,A as _,D as K,_ as E,E as Q,x as A,G as le,H as j,J as T,t as v,K as H,b as V,F as g,e as S,L as D,r as G,s as M,M as W,N as X,O as Y,P as ae,v as x,Q as B,R as re,S as ue,T as ce,w as q,U as de,V as me,W as pe,X as he}from"./app-88ab910e.js";import{c as _e}from"./community-24f11c66.js";const ve={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fe=o("path",{fill:"currentColor",d:"m17 18l-5-2.18L7 18V5h10m0-2H7a2 2 0 0 0-2 2v16l7-3l7 3V5a2 2 0 0 0-2-2Z"},null,-1),$e=[fe];function ye(e,t){return n(),l("svg",ve,$e)}const be={name:"mdi-bookmark-outline",render:ye},ge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=o("path",{fill:"currentColor",d:"M17 3H7a2 2 0 0 0-2 2v16l7-3l7 3V5a2 2 0 0 0-2-2Z"},null,-1),Te=[ke];function Se(e,t){return n(),l("svg",ge,Te)}const ee={name:"mdi-bookmark",render:Se},we=Z({name:"ScheduleItem",props:{sessionId:{type:String,required:!0}},setup(e){const{t,locale:u}=z(),{xsOnly:m}=J(),{isLoaded:c,getSessionById:i,favoriteSessions:s,roomsStatusMap:d}=N(),a=_(()=>i(e.sessionId)),p=_(()=>a.value.tags.find(k=>k.id==="Prime")),$=_(()=>({name:"SessionDetail",params:{sessionId:a.value.id}})),r=_(()=>a.value.type[u.value].name),h=_(()=>`${K(a.value.start,"：")} ~ ${K(a.value.end,"：")}`),w=_(()=>a.value[u.value].title),F=_(()=>a.value.speakers.map(k=>k[u.value].name)),I=_(()=>a.value.tags.map(k=>k[u.value].name)),P=_(()=>a.value.language),R=_(()=>a.value.room[u.value].name.split(" / ")[0]),f=_(()=>{var k,C;return!!((C=(k=d.value)==null?void 0:k[a.value.room.id])!=null&&C.isFull)}),y=_(()=>t(`session['room-status'].${f.value?"full":"vacancy"}`)),b=_(()=>a.value.favorite);return{isLoaded:c,xsOnly:m,location:$,isPrimeSession:p,track:r,period:h,title:w,speakers:F,tags:I,language:P,room:R,isFull:f,statusText:y,favorite:b,handleMarkIconOnClick:()=>{s.value.includes(a.value.id)?s.value=s.value.filter(k=>k!==a.value.id):s.value=[...s.value,a.value.id]}}}}),Ie={class:"content-section"},Oe={class:"track"},Ce={class:"status"},Me={class:"name"},Ve={class:"period"},Le={class:"title"},Fe={class:"speaker-list"},Ae=o("span",null,"by",-1),Ze={class:"tag-list"};function Ee(e,t,u,m,c,i){const s=ee,d=be,a=Q("router-link");return e.isLoaded?(n(),A(a,{key:0,class:T(["schedule-item",{prime:e.isPrimeSession}]),to:e.location},{default:le(()=>[o("section",Ie,[o("h4",Oe,[j(o("div",{class:T(["room",{full:e.isFull}])},[o("span",Ce,v(e.statusText),1),o("span",Me,v(e.room),1)],2),[[H,e.xsOnly]]),o("span",null,v(e.track),1)]),V("  "),o("h4",Ve,v(e.period),1),V("  "),o("h2",Le,v(e.title),1),V("  "),o("h3",Fe,[Ae,(n(!0),l(g,null,S(e.speakers,(p,$)=>(n(),l("span",{key:`session-${e.sessionId}-speaker-${$}`,class:"speaker"},v(p),1))),128))]),V("  "),o("div",Ze,[(n(!0),l(g,null,S(e.tags,(p,$)=>(n(),l("span",{key:`tag-${e.sessionId}-tag-${$}`,class:"tag"},v(p),1))),128))])]),o("span",{class:"mark-icon",onClick:t[0]||(t[0]=D((...p)=>e.handleMarkIconOnClick&&e.handleMarkIconOnClick(...p),["prevent"]))},[e.favorite?(n(),A(s,{key:0})):(n(),A(d,{key:1}))])]),_:1},8,["class","to"])):V("v-if",!0)}const U=E(we,[["render",Ee],["__file","/home/runner/work/2024/2024/src/components/Session/ScheduleItem.vue"]]),Be={},De=Z({name:"AgendaTableRoomCell",props:{roomId:{type:String,required:!0}},setup(e){const{t,locale:u}=z(),{isLoaded:m,getRoomById:c,getRoomStatusById:i}=N(),s=_(()=>c(e.roomId)[u.value].name.split(" / ")[0]),d=_(()=>i(e.roomId)),a=_(()=>d.value.isFull),p=_(()=>t(`session['room-status'].${a.value?"full":"vacancy"}`)),$=_(()=>{const h=Be[e.roomId];if(h===null)return null;const w=new URL(`https://www.youtube-nocookie.com/embed/${h}`);return w.searchParams.set("autoplay","1"),w.searchParams.set("modestbranding","1"),w.searchParams.set("controls","0"),w.searchParams.set("rel","0"),w.toString()}),r=G(!1);return{isLoaded:m,roomName:s,isFull:a,statusText:p,roomLink:$,iframeLoaded:r}}}),Pe={key:0,class:"schedule-table-room-cell"},je={class:"text"},Ne=o("span",null,"Room",-1);function Re(e,t,u,m,c,i){return e.isLoaded?(n(),l("div",Pe,[o("div",je,[Ne,o("span",null,v(e.roomName),1)])])):V("v-if",!0)}const te=E(De,[["render",Re],["__file","/home/runner/work/2024/2024/src/components/Session/ScheduleTableRoomCell.vue"]]),He=Z({name:"ScheduleTable",components:{ScheduleItem:U,ScheduleTableRoomCell:te},props:{table:{type:Object,required:!0},currentTimeZone:{type:String,required:!0}}}),ze={class:"schedule-table"},Ue={class:"room-list"},qe={class:"cell-content"},Ge=o("div",{style:{height:"0.5rem"}},null,-1),Ke={class:"table-body"},We=["rowspan"],Je={class:"cell-content"};function Qe(e,t,u,m,c,i){const s=te,d=U;return n(),l("table",ze,[o("thead",Ue,[o("tr",null,[(n(!0),l(g,null,S(e.table.head,a=>(n(),l("th",{key:`table-room-${a.room}`},[o("div",qe,[M(s,{"room-id":a.room},null,8,["room-id"])])]))),128))])]),Ge,o("tbody",Ke,[(n(!0),l(g,null,S(e.table.body,(a,p)=>(n(),l("tr",{key:`table-row-${p}`},[(n(!0),l(g,null,S(a,($,r)=>(n(),l("td",{key:`table-row-${p}-cell-${r}`,rowspan:$.rowspan},[o("div",Je,[$.type==="session"?(n(),A(d,{key:0,"session-id":$.element.session},null,8,["session-id"])):V("v-if",!0)])],8,We))),128))]))),128))])])}const se=E(He,[["render",Qe],["__file","/home/runner/work/2024/2024/src/components/Session/ScheduleTable.vue"]]),Xe=Z({name:"ScheduleList",components:{ScheduleItem:U},props:{list:{type:Object,required:!0},sessionsMap:{type:Object,rquired:!0}},setup(){return{getTimeText:([t,u])=>`${W(t)}：${W(u)}`}}}),Ye={class:"schedule-list"},xe={class:"time"};function et(e,t,u,m,c,i){const s=U;return n(),l("ul",Ye,[(n(!0),l(g,null,S(e.list.items,(d,a)=>(n(),l("section",{key:`schedule-list-section-${a.toString()}`,class:"section"},[o("li",xe,v(e.getTimeText(d.start)),1),(n(!0),l(g,null,S(d.elements,({session:p})=>(n(),l("li",{key:`schedule-list-section-${a.toString()}-session-${p}`,class:"schedule-item-container"},[M(s,{"session-id":p},null,8,["session-id"])]))),128))]))),128))])}const oe=E(Xe,[["render",et],["__file","/home/runner/work/2024/2024/src/components/Session/ScheduleList.vue"]]),tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},st=o("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),ot=[st];function nt(e,t){return n(),l("svg",tt,ot)}const it={name:"mdi-close",render:nt},lt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},at=o("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),rt=[at];function ut(e,t){return n(),l("svg",lt,rt)}const ct={name:"mdi-share-variant",render:ut},dt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},mt=o("path",{fill:"currentColor",d:"M6 13h12v-2H6M3 6v2h18V6M10 18h4v-2h-4v2Z"},null,-1),pt=[mt];function ht(e,t){return n(),l("svg",dt,pt)}const _t={name:"mdi-filter-list",render:ht},vt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ft=o("path",{fill:"currentColor",d:"M21 17V8H7v9h14m0-14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h1V1h2v2h8V1h2v2h1m-3.47 8.06l-4.44 4.44l-2.68-2.68l1.06-1.06l1.62 1.62L16.47 10l1.06 1.06M3 21h14v2H3a2 2 0 0 1-2-2V9h2v12Z"},null,-1),$t=[ft];function yt(e,t){return n(),l("svg",vt,$t)}const bt={name:"mdi-calendar-multiple-check",render:yt},gt=Z({name:"SessionFilter",setup(){const{filterOptions:e,filterValue:t,favoriteSessions:u,getSessionById:m}=N(),{t:c,locale:i}=z(),s=X(),d=Y(),a=G(!1),p=_({get:()=>t.value.room,set:f=>{const y=(()=>(console.log(t.value.room,f),t.value.room.includes("*")?f.filter(b=>b!=="*"):!t.value.room.includes("*")&&f.includes("*")?["*"]:f))();t.value={...t.value,room:y}}}),$=f=>{const{name:y,value:b}=f.target;window.scrollTo(0,0),t.value={...t.value,[y]:b}},r=_(()=>t.value.collection!=="*"),h=()=>{a.value=!1,t.value={search:"",tags:"*",room:["*"],type:"*",filter:["*"],collection:"mark"}},w=()=>{s.back()},F=()=>{const f=u.value.map(b=>{const O=m(b);return{startTime:new Date(O.start),endTime:new Date(O.end)}});(()=>{for(let b=0;b<f.length-1;b++)for(let O=b+1;O<f.length;O++){const k=f[b],C=f[O];if(k.endTime>C.startTime&&k.startTime<C.endTime||C.endTime>k.startTime&&C.startTime<k.endTime)return!0}return!1})()?window.alert(c("session.schedule_conflicts")):window.alert(c("session.schedule_no_conflicts"))},I=async()=>{if(u.value.length===0){window.alert(c("session.share_no_favorites"));return}const f=c("session.share_title",{year:"2024"}),y=`${window.location.origin}${s.resolve({query:{filter:u.value.join("")}}).href}`;try{await window.navigator.share({title:f,url:y})}catch{await window.navigator.clipboard.writeText(`${f}
${y}`),window.alert(c("session.share_copied"))}},P=_(()=>Object.keys(d.query).length>0);return{active:a,roomValue:p,filterOptions:e,filterValue:t,locale:i,changeFilterValue:$,t:c,isFilterCollection:r,showFavorites:h,close:w,share:I,hasFilters:P,clearFilters:()=>{s.push({query:{}})},checkMySchedule:F}}}),kt=["placeholder","value"],Tt=["name","size"],St={value:"*"},wt=["value"],It=["name","value"],Ot={value:"*"},Ct=["value"];function Mt(e,t,u,m,c,i){const s=bt,d=ee,a=_t,p=ct,$=it;return n(),l("article",{class:T({["session-filter"]:!0,active:e.active})},[j(o("button",{class:T(["fab CalendarMultipleCheck",{active:e.active}]),onClick:t[0]||(t[0]=(...r)=>e.checkMySchedule&&e.checkMySchedule(...r)),title:"收藏議程時間衝突檢查"},[M(s)],2),[[H,e.isFilterCollection]]),e.isFilterCollection?(n(),l(g,{key:1},[o("button",{class:T({fab:!0,bookmark:!0,active:e.active}),onClick:t[3]||(t[3]=(...r)=>e.share&&e.share(...r))},[M(p)],2),o("button",{class:T({fab:!0,close:!0,active:e.active}),onClick:t[4]||(t[4]=(...r)=>e.close&&e.close(...r))},[M($)],2)],64)):(n(),l(g,{key:0},[o("button",{class:T({fab:!0,bookmark:!0,active:e.active}),onClick:t[1]||(t[1]=(...r)=>e.showFavorites&&e.showFavorites(...r))},[M(d)],2),o("button",{class:T({fab:!0,switch:!0,active:e.active}),onClick:t[2]||(t[2]=r=>e.active=!e.active)},[M(a)],2)],64)),o("section",null,[o("input",{type:"search",placeholder:e.t("session.filter.search"),name:"search",value:e.filterValue.search,onInput:t[5]||(t[5]=(...r)=>e.changeFilterValue&&e.changeFilterValue(...r))},null,40,kt)]),(n(!0),l(g,null,S(e.filterOptions,r=>(n(),l("section",{key:r.label},[r.label==="room"?(n(),l(g,{key:0},[o("label",null,v(e.t(`session.filter.${r.label}`))+": ",1),j(o("select",{name:r.label,multiple:"",size:r.options.length,"onUpdate:modelValue":t[6]||(t[6]=h=>e.roomValue=h)},[o("option",St,v(e.t("session.filter.all")),1),(n(!0),l(g,null,S(r.options,h=>(n(),l("option",{key:h.id,value:h.id},v(h.name[e.locale]),9,wt))),128))],8,Tt),[[ae,e.roomValue]])],64)):(n(),l(g,{key:1},[o("label",null,v(e.t(`session.filter.${r.label}`))+": ",1),o("select",{name:r.label,value:e.filterValue[r.label],onChange:t[7]||(t[7]=(...h)=>e.changeFilterValue&&e.changeFilterValue(...h))},[o("option",Ot,v(e.t("session.filter.all")),1),(n(!0),l(g,null,S(r.options,h=>(n(),l("option",{key:h.id,value:h.id},v(h.name[e.locale]),9,Ct))),128))],40,It)],64))]))),128)),e.hasFilters?(n(),l("button",{key:2,class:"clear",onClick:t[8]||(t[8]=(...r)=>e.clearFilters&&e.clearFilters(...r))},[M($),x(" "+v(e.t("session.filter.clear")),1)])):V("v-if",!0)],2)}const ne=E(gt,[["render",Mt],["__file","/home/runner/work/2024/2024/src/components/Session/SessionFilter.vue"]]),Vt=Z({name:"AgendaNavbar",setup(){const{isLoaded:e,currentDayIndex:t,daysSchedule:u}=N(),m=_(()=>u.value.map(s=>s.day)),c=_(()=>m.value[t.value]);return{isLoaded:e,days:m,selectedDay:c,onTabClick:s=>{t.value=s}}}}),Lt={key:0,class:"schedule-navbar"},Ft={class:"tabs"},At=["onClick"],Zt={class:"day-text"},Et={class:"date"};function Bt(e,t,u,m,c,i){return e.isLoaded?(n(),l("nav",Lt,[o("div",Ft,[(n(!0),l(g,null,S(e.days,(s,d)=>(n(),l("div",{class:T(["tab",{active:e.selectedDay.join("")===s.join("")}]),key:`day-option-${d}`,onClick:a=>e.onTabClick(d)},[o("span",Zt,v(`Day ${d+1}`),1),o("span",Et,v(s.join(" / ")),1)],10,At))),128))])])):V("v-if",!0)}const ie=E(Vt,[["render",Bt],["__file","/home/runner/work/2024/2024/src/components/Session/ScheduleNavbar.vue"]]),L={openOptions(e){e.$refs.input.focus(),e.showMenu=!0,e.mousedownState=!1},blurInput(e){e.mousedownState||(e.searchText="",e.closeOptions()),e.$emit("blur")},closeOptions(e){e.$refs.input.blur(),e.showMenu=!1},prevItem(e){const t=e.pointer-1,u=e.$el.offsetHeight*t;t>=0&&(e.pointer=t),e.$refs.menu.scrollTop=u},nextItem(e){const t=e.pointer+1,u=e.$el.offsetHeight*t;t<=e.filteredOptions.length-1&&(e.pointer=t);const m=e.$refs.menu.offsetHeight,c=Math.ceil((e.$refs.menu.scrollTop+e.$el.offsetHeight)/m),i=Math.ceil(u/m);c!==i&&(e.$refs.menu.scrollTop=(i-1)*e.$refs.menu.offsetHeight)},enterItem(e){const t=e.filteredOptions[e.pointer],u=t.disabled;t&&!u&&e.selectItem(t)},pointerSet(e,t){e.pointer=t},pointerAdjust(e){e.pointer>=e.filteredOptions.length-1&&(e.pointer=e.filteredOptions.length?e.filteredOptions.length-1:0)},mousedownItem(e){e.mousedownState=!0}};function Dt(e){return new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i")}const Pt={props:{id:{default:null},name:{type:String,default:""},isError:{type:Boolean,default:!1},customAttr:{type:Function,default:()=>""},isDisabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},filterPredicate:{type:Function,default:(e,t)=>e.match(Dt(t))}}},jt=(e,t)=>{const u=e.__vccOpts||e;for(const[m,c]of t)u[m]=c;return u},Nt={name:"ModelSelect",mixins:[Pt],emits:["blur","searchchange","update:modelValue"],props:{modelValue:{type:[String,Number,Object,Boolean]},customAttr:{type:Function,default:()=>""},options:{type:Array}},data(){return{showMenu:!1,searchText:"",mousedownState:!1,pointer:-1}},watch:{value(e){this.pointer=this.filteredOptions.findIndex(t=>t.value===this.optionValue(e))},filteredOptions(){this.pointerAdjust()},searchText(){this.$emit("searchchange",this.searchText)}},computed:{searchTextCustomAttr(){return this.selectedOption&&this.selectedOption.value?this.customAttr(this.selectedOption):""},inputText(){if(this.searchText)return"";{let e=this.placeholder;return this.selectedOption&&(e=this.selectedOption.text),e}},customAttrs(){try{if(Array.isArray(this.options))return this.options.map(e=>this.customAttr(e))}catch{}return[]},textClass(){return!this.selectedOption&&this.placeholder?"default":""},menuClass(){return{visible:this.showMenu,hidden:!this.showMenu}},menuStyle(){return{display:this.showMenu?"block":"none"}},filteredOptions(){return this.searchText?this.options.filter(e=>{try{return this.filterPredicate(e.text,this.searchText)}catch{return!0}}):this.options},selectedOption(){return this.options.find(e=>e.value===this.optionValue(this.modelValue))}},methods:{deleteTextOrItem(){!this.searchText&&this.modelValue&&(this.selectItem({}),this.openOptions())},openOptions(){L.openOptions(this)},blurInput(){L.blurInput(this)},closeOptions(){L.closeOptions(this)},prevItem(){L.prevItem(this)},nextItem(){L.nextItem(this)},enterItem(){L.enterItem(this)},pointerSet(e){L.pointerSet(this,e)},pointerAdjust(){L.pointerAdjust(this)},mousedownItem(){L.mousedownItem(this)},selectItem(e){this.searchText="",this.closeOptions(),typeof this.modelValue=="object"&&this.modelValue?this.$emit("update:modelValue",e):(this.$emit("update:modelValue",e.value),e.value!==void 0&&e.value===e.text&&(this.searchText=e.value))},optionValue(e){return typeof e=="object"&&e!==null?e.value:e}}},Rt=o("i",{class:"dropdown icon"},null,-1),Ht=["disabled","tabindex","id","name","value"],zt=["data-vss-custom-attr"],Ut=["data-vss-custom-attr","onClick","onMouseenter"];function qt(e,t,u,m,c,i){return n(),l("div",{class:T(["ui fluid search selection dropdown",{"active visible":c.showMenu,error:e.isError,disabled:e.isDisabled}]),onClick:t[11]||(t[11]=(...s)=>i.openOptions&&i.openOptions(...s)),onFocus:t[12]||(t[12]=(...s)=>i.openOptions&&i.openOptions(...s))},[Rt,o("input",{class:"search",autocomplete:"off",disabled:e.isDisabled,tabindex:e.isDisabled?-1:0,id:e.id,name:e.name,value:c.searchText,onInput:t[0]||(t[0]=s=>c.searchText=s.target.value),ref:"input",onFocus:t[1]||(t[1]=D((...s)=>i.openOptions&&i.openOptions(...s),["prevent"])),onKeyup:[t[2]||(t[2]=B((...s)=>i.closeOptions&&i.closeOptions(...s),["esc"])),t[7]||(t[7]=B(D((...s)=>i.enterItem&&i.enterItem(...s),["prevent"]),["enter"]))],onBlur:t[3]||(t[3]=(...s)=>i.blurInput&&i.blurInput(...s)),onKeydown:[t[4]||(t[4]=B((...s)=>i.prevItem&&i.prevItem(...s),["up"])),t[5]||(t[5]=B((...s)=>i.nextItem&&i.nextItem(...s),["down"])),t[6]||(t[6]=B(D(()=>{},["prevent"]),["enter"])),t[8]||(t[8]=B((...s)=>i.deleteTextOrItem&&i.deleteTextOrItem(...s),["delete"]))]},null,40,Ht),o("div",{class:T(["text",i.textClass]),"data-vss-custom-attr":i.searchTextCustomAttr},v(i.inputText),11,zt),o("div",{class:T(["menu",i.menuClass]),ref:"menu",onMousedown:t[10]||(t[10]=D(()=>{},["prevent"])),style:ue(i.menuStyle),tabindex:"-1"},[(n(!0),l(g,null,S(i.filteredOptions,(s,d)=>(n(),l("div",{key:d,class:T(["item",{selected:s.selected||c.pointer===d,disabled:s.disabled}]),"data-vss-custom-attr":i.customAttrs[d]?i.customAttrs[d]:"",onClick:D(a=>i.selectItem(s),["stop"]),onMousedown:t[9]||(t[9]=(...a)=>i.mousedownItem&&i.mousedownItem(...a)),onMouseenter:a=>i.pointerSet(d)},[re(e.$slots,"default",{option:s,idx:d},()=>[x(v(s.text),1)])],42,Ut))),128))],38)],34)}const Gt=jt(Nt,[["render",qt]]);const Kt=Z({name:"Session",components:{ScheduleNavbar:ie,ScheduleTable:se,ScheduleList:oe,SessionFilter:ne,ModelSelect:Gt},setup(){const e=Y(),t=X(),{load:u,daysSchedule:m,currentDayIndex:c,getSessionById:i,isLoaded:s,TIMEZONE_OFFSET:d}=N(),{openPopUp:a,removeAll:p}=ce(),{xsOnly:$}=J(),{t:r,locale:h}=z(),w=Intl.supportedValuesOf("timeZone").map(y=>({value:y,text:y})),F="Asia/Taipei",I=G(F),P=()=>{I.value=F,localStorage.removeItem("timeZone")};q(I,()=>{d.value=he(I.value),localStorage.setItem("timeZone",I.value)}),de(()=>{const y=localStorage.getItem("timeZone");y&&(I.value=y)});function R(y){return _e.communities.find(b=>b.track===y.type["zh-TW"].name)}function f(){const[y,b]=[s.value,e.params.sessionId];if(!y)return;if(typeof b!="string"){p(k=>{var C;return!((C=k.popupId)!=null&&C.startsWith("session-"))});return}const O=()=>{window.history.state.back?t.back():t.push("/session")};a(b==="template"?{popupId:"session-template",metaOptions:{title:"@{TEMPLATE_META_TITLE}",description:"@{TEMPLATE_META_DESCRIPTION}",ogUrl:"@{TEMPLATE_META_OG_URL}",ogImage:"@{TEMPLATE_META_OG_IMAGE}"},containerData:{type:"default"},contentData:{type:"html",html:"@{TEMPLATE_CONTENT_HTML}"},onClose:O}:{...pe(i(b),R(i(b)),h.value),onClose:O})}return f(),q(()=>[e.params.sessionId,s.value],()=>{f()}),me&&q(c,async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),{t:r,xsOnly:$,currentDayIndex:c,daysSchedule:m,load:u,tryToOpenSessionPopUp:f,route:e,timeZoneOptions:w,currentTimeZone:I,defaultTimeZone:F,resetTimeZone:P}},async serverPrefetch(){await this.load(),this.route.params.sessionId&&this.tryToOpenSessionPopUp()}});const Wt={id:"session",class:"page-container"},Jt={class:"time-zone-container"},Qt={for:"time-zone-select"};function Xt(e,t,u,m,c,i){const s=ie,d=Q("ModelSelect"),a=ne,p=oe,$=se;return n(),l("main",Wt,[M(s),o("div",Jt,[o("label",Qt,v(e.t("session.time_zone.select_label")),1),V(" Bind the currentTimeZone to the component key to reset input text on time zone change "),(n(),A(d,{id:"time-zone-select",modelValue:e.currentTimeZone,"onUpdate:modelValue":t[0]||(t[0]=r=>e.currentTimeZone=r),options:e.timeZoneOptions,key:e.currentTimeZone},null,8,["modelValue","options"])),o("button",{onClick:t[1]||(t[1]=(...r)=>e.resetTimeZone&&e.resetTimeZone(...r)),class:T({available:e.currentTimeZone!==e.defaultTimeZone})},v(e.t("session.time_zone.reset_button")),3)]),M(a),(n(!0),l(g,null,S(e.daysSchedule,(r,h)=>(n(),l(g,null,[e.xsOnly?j((n(),A(p,{key:`list-${r.day.join("")}`,list:r.list},null,8,["list"])),[[H,e.currentDayIndex===h]]):j((n(),A($,{key:`table-${r.day.join("")}`,table:r.table,currentTimeZone:e.currentTimeZone},null,8,["table","currentTimeZone"])),[[H,e.currentDayIndex===h]])],64))),256))])}const es=E(Kt,[["render",Xt],["__scopeId","data-v-06f3cf94"],["__file","/home/runner/work/2024/2024/src/pages/Session.vue"]]);export{es as default};
